var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var h=0;return function(){return h<f.length?{done:!1,value:f[h++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,h,p){f!=Array.prototype&&f!=Object.prototype&&(f[h]=p.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(f,h){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:h})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function f(p){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(p||"")+"_"+h++,p)}var h=0;return f}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.asyncIterator;f||(f=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};
$jscomp.iteratorFromArray=function(f,h){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var p=0,m={next:function(){if(p<f.length){var C=p++;return{value:h(C,f[C]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill=function(f,h,p,m){if(h){p=$jscomp.global;f=f.split(".");for(m=0;m<f.length-1;m++){var C=f[m];C in p||(p[C]={});p=p[C]}f=f[f.length-1];m=p[f];h=h(m);h!=m&&null!=h&&$jscomp.defineProperty(p,f,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");
(function(f,h){"object"===typeof exports&&"undefined"!==typeof module?h(exports):"function"===typeof define&&define.amd?define(["exports"],h):h(f.riot={})})(this,function(f){function h(a,b){return(b||document).querySelector(a)}function p(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function m(a,b,c){var d=eb.exec(b);d&&d[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",d[1],c):a.setAttribute(b,c)}function C(a,b){return Object.getOwnPropertyDescriptor(a,
b)}function Q(a){return"undefined"===typeof a}function R(a,b){var c=C(a,b);return Q(a[b])||c&&c.writable}function w(a){for(var b,c=1,d=arguments,e=d.length;c<e;c++)if(b=d[c])for(var g in b)R(a,g)&&(a[g]=b[g]);return a}function F(a){return Object.create(a)}function Y(a,b){return[].slice.call((b||document).querySelectorAll(a))}function K(){return document.createTextNode("")}function la(a,b){a.style.display=b?"":"none";a.hidden=b?!1:!0}function ma(a,b,c){c?(b=a.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+
b+"</svg>","application/xml").documentElement,!0),a.appendChild(b)):a.innerHTML=b}function na(a,b){if(a)for(var c;c=fb.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function S(){return document.createDocumentFragment()}function oa(a,b,c){a.insertBefore(b,c.parentNode&&c)}function Da(a){return Object.keys(a).reduce(function(b,c){return b+" "+c+": "+a[c]+";"},"")}function pa(a,b,c){if(a&&(c=b(a,c),!1!==c))for(a=a.firstChild;a;){var d=a.nextSibling;pa(a,b,c);a=d}}function Ea(a){return Q(a)||null===
a}function T(a){return Ea(a)||""===a}function D(a){return"function"===typeof a}function Z(a){return a&&"object"===typeof a}function Fa(a){a=a.ownerSVGElement;return!!a||null===a}function U(a){return Array.isArray(a)||a instanceof Array}function Ga(a){return gb.test(a)}function L(a){return"string"===typeof a}function G(a,b){return-1!==a.indexOf(b)}function r(a,b){for(var c=a?a.length:0,d=0;d<c;d++)b(a[d],d);return a}function Ha(a,b){return a.slice(0,b.length)===b}function n(a,b,c,d){Object.defineProperty(a,
b,w({value:c,enumerable:!1,writable:!1,configurable:!0},d));return a}function Ia(a){return a.replace(/-(\w)/g,function(a,c){return c.toUpperCase()})}function Ja(a){console&&console.warn&&console.warn(a)}function M(a,b,c,d,e){var g=a[b],q=U(g),k=!Q(e);g&&g===c||(!g&&d?a[b]=[c]:g?q?(a=g.indexOf(c),a!==e&&(-1!==a&&g.splice(a,1),k?g.splice(e,0,c):g.push(c))):a[b]=[g,c]:a[b]=c)}function aa(a){return a.tagName&&u[a.getAttribute("data-is")||a.getAttribute("data-is")||a.tagName.toLowerCase()]}function ba(a,
b){var c=aa(a);return(b=!b&&a.getAttribute("data-is"))&&!y.hasExpr(b)?b:c?c.name:a.tagName.toLowerCase()}function qa(){return this.parent?w(F(this),this.parent):this}function hb(a,b){if(!ib.test(a))return a;var c={};b=b&&b.replace(jb,function(a,b,g){c[b]=c[b]||g;return""}).trim();return a.replace(kb,function(a,b,g){return c[b]||g||""}).replace(lb,function(a,c){return b||c||""})}function mb(a,b,c){var d=a&&a.match(/^\s*<([-\w]+)/);d=d&&d[1].toLowerCase();var e=p(c?"svg":"div");a=hb(a,b);nb.test(d)?
(c=e,b=(e="o"===d[0])?"select>":"table>",c.innerHTML="<"+b+a.trim()+"</"+b,b=c.firstChild,e?b.selectedIndex=-1:(a=ob[d])&&1===b.childElementCount&&(b=h(a,b)),e=b):ma(e,a,c);return e}function H(a){for(;a.__.isAnonymous&&a.parent;)a=a.parent;return a}function pb(a,b,c){var d=this.__.parent,e=this.__.item;if(!e)for(;d&&!e;)e=d.__.item,d=d.__.parent;R(c,"currentTarget")&&(c.currentTarget=a);R(c,"target")&&(c.target=c.srcElement);R(c,"which")&&(c.which=c.charCode||c.keyCode);c.item=e;b.call(this,c);ra.autoUpdate&&
!c.preventUpdate&&(a=H(this),a.isMounted&&a.update())}function sa(a,b,c,d){a=ca(a,b,c);b=b.tagName||ba(b.root,!0);c=H(d);n(a,"parent",c);a.__.parent=d;M(c.tags,b,a);c!==d&&M(d.tags,b,a);return a}function E(a,b,c,d){U(a[b])?(c=a[b].indexOf(c),-1!==c&&a[b].splice(c,1),a[b].length?1!==a[b].length||d||(a[b]=a[b][0]):delete a[b]):a[b]===c&&delete a[b]}function da(a,b){var c=K(),d=K(),e=S();this.root.insertBefore(c,this.root.firstChild);this.root.appendChild(d);this.__.head=c;for(this.__.tail=d;c;)d=c.nextSibling,
e.appendChild(c),this.__.virts.push(c),c=d;b?a.insertBefore(e,b.__.head):a.appendChild(e)}function ta(a,b){var c=S();da.call(a,c);b.parentNode.replaceChild(c,b)}function qb(a,b,c){var d=a.tag||a.dom._tag,e=(d?d.__:{}).head,g="VIRTUAL"===a.dom.tagName;if(d&&a.tagName===c)d.update();else{if(d){if(g){var q=K();e.parentNode.insertBefore(q,e)}d.unmount(!0)}L(c)&&(a.impl=u[c],a.impl&&(a.tag=d=sa(a.impl,{root:a.dom,parent:b,tagName:c},a.dom.innerHTML,b),r(a.attrs,function(a){return m(d.root,a.name,a.value)}),
a.tagName=c,d.mount(),g&&ta(d,q||d.root),b.__.onUnmount=function(){var a=d.opts.dataIs;E(d.parent.tags,a,d);E(d.__.parent.tags,a,d);d.unmount()}))}}function ua(a){if(!this.root||!this.root.getAttribute("virtualized")){var b=a.dom,c;(c=a.attr)?(c=c.replace("riot-",""),Ka[c]&&(c=Ka[c])):c=null;var d=G(["show","hide"],c),e=a.root&&"VIRTUAL"===a.root.tagName,g=this.__.isAnonymous,q=b&&(a.parent||b.parentNode),k="style"===c,f="class"===c;if(a._riot_id)a.__.wasCreated?a.update():(a.mount(),e&&ta(a,a.root));
else{if(a.update)return a.update();e=d&&!g?qa.call(this):this;e=y(a.expr,e);g=!T(e);var l=Z(e);l&&(f?e=y(JSON.stringify(e),this):k&&(e=Da(e)));if(a.attr&&(!a.wasParsedOnce||!g||!1===e)){var h=b.getAttribute(a.attr)?a.attr:c;b.removeAttribute(h)}a.bool&&(e=e?c:!1);if(a.isRtag)return qb(a,this,e);if(!a.wasParsedOnce||a.value!==e)if(a.value=e,a.wasParsedOnce=!0,!l||f||k||d)g||(e=""),c?D(e)?(a=c,d=pb.bind(this,b,e),b[a]=null,c=a.replace(rb,""),G(this.__.listeners,b)||this.__.listeners.push(b),b["__riot-events__"]||
(b["__riot-events__"]={}),b["__riot-events__"][a]&&b.removeEventListener(c,b["__riot-events__"][a]),b["__riot-events__"][a]=d,b.addEventListener(c,d,!1)):d?la(b,"hide"===c?!e:e):(a.bool&&(b[c]=e),"value"===c&&b.value!==e?b.value=e:g&&!1!==e&&m(b,c,e),k&&b.hidden&&la(b,!1)):(e+="",q&&(a.parent=q,"TEXTAREA"===q.tagName?(q.value=e,wa||(b.nodeValue=e)):b.nodeValue=e))}}}function La(a,b,c,d,e){if(!a||!c){var g=a?qa.call(this):b||this;r(e,function(a){a.expr&&ua.call(g,a.expr);d[Ia(a.name).replace("riot-",
"")]=a.expr?a.expr.value:a.value})}}function V(a){return a?a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,c){c=c.trim().toLowerCase();return a+',[data-is="'+c+'"]'},""):(a=Object.keys(u),a+V(a))}function Ma(a,b){var c=this.name,d=this.tmpl,e=this.css,g=this.attrs,q=this.onCreate;u[c]||(xa(c,d,e,g,q),u[c].class=this.constructor);ya(a,c,b,this);e&&I.inject();return this}function xa(a,b,c,d,e){D(d)&&(e=d,/^[\w-]+\s?=/.test(c)?(d=c,c=""):d="");c&&(D(c)?e=c:I.add(c,a));a=a.toLowerCase();
u[a]={name:a,tmpl:b,attrs:d,fn:e};return a}function Na(a,b,c,d,e){c&&I.add(c,a);u[a]={name:a,tmpl:b,attrs:d,fn:e};return a}function Oa(a,b,c){function d(a){if(a.tagName){var g=a.getAttribute("data-is");b&&g!==b&&(g=b,m(a,"data-is",b));(a=ya(a,g||a.tagName.toLowerCase(),c))&&e.push(a)}else a.length&&r(a,d)}var e=[],g;I.inject();Z(b)&&(c=b,b=0);L(a)&&(a=(a="*"===a?g=V():a+V(a.split(/, */)))?Y(a):[]);if("*"===b){b=g||V();if(a.tagName)a=Y(b,a);else{var q=[];r(a,function(a){return q.push(Y(b,a))});a=q}b=
0}d(a);return e}function W(a,b,c){if(Z(a))W("__"+sb++ +"__",a,!0);else{c=c?tb:Pa;if(!b){if(Q(c[a]))throw Error("Unregistered mixin: "+a);return c[a]}c[a]=D(b)?w(b.prototype,c[a]||{})&&b:w(c[a]||{},b)}}function Qa(){return r(N,function(a){return a.update()})}function Ra(a){I.remove(a);return delete u[a]}function ub(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];r(b,function(b){var c,d=[],q=["init","__proto__"];b=L(b)?W(b):b;var f=D(b)?new b:b;var va=Object.getPrototypeOf(f);do d=d.concat(Object.getOwnPropertyNames(c||
f));while(c=Object.getPrototypeOf(c||f));r(d,function(b){if(!G(q,b)){var c=C(f,b)||C(va,b),d=c&&(c.get||c.set);!a.hasOwnProperty(b)&&d?Object.defineProperty(a,b,c):a[b]=D(f[b])?f[b].bind(a):f[b]}});f.init&&f.init.bind(a)(a.opts)});return a}function Sa(a,b){var c=this.parent;if(c){var d=c.tags[a];U(d)?d.splice(b,0,d.splice(d.indexOf(this),1)[0]):M(c.tags,a,this)}}function Ta(a,b){for(var c=this.__.head,d,e=S();c;)if(d=c.nextSibling,e.appendChild(c),c=d,c===this.__.tail){e.appendChild(c);a.insertBefore(e,
b.__.head);break}}function Ua(a,b,c){var d={};d[a.key]=b;a.pos&&(d[a.pos]=c);return d}function vb(a,b,c){var d=b.length;for(a=a.length-c;d>a;)d--,wb.apply(b[d],[b,d])}function wb(a,b){a.splice(b,1);this.unmount();E(this.parent,this,this.__.tagName,!0)}function xb(a){var b=this;r(Object.keys(this.tags),function(c){Sa.apply(b.tags[c],[c,a])})}function yb(a,b,c){c?Ta.apply(this,[a,b]):oa(a,this.root,b.root)}function zb(a,b,c){c?da.apply(this,[a,b]):oa(a,this.root,b.root)}function Ab(a,b){b?da.call(this,
a):a.appendChild(this.root)}function Bb(a,b,c){var d;(d="string"!==typeof a.getAttribute("no-reorder"))||(a.removeAttribute("no-reorder"),d=void 0);var e=d,g=a.getAttribute("key"),f=g?y.hasExpr(g):!1,k=ba(a),va=u[k];d=a.parentNode;var l=K(),h=aa(a),m=a.getAttribute("if"),t=[],p=a.innerHTML,z=!u[k],v="VIRTUAL"===a.tagName,A=[],J;a.removeAttribute("each");a.removeAttribute("key");c=y.loopKeys(c);c.isLoop=!0;m&&a.removeAttribute("if");d.insertBefore(l,a);d.removeChild(a);c.update=function(){c.value=
y(c.val,b);var d=c.value,q=S(),n=!U(d)&&!L(d),X=l.parentNode,Va=[];if(X){n?d=(J=d||!1)?Object.keys(d).map(function(a){return Ua(c,d[a],a)}):[]:J=!1;var za=0;r(d,function(x,l){l-=za;var O=!J&&c.key?Ua(c,x,l):x;if(m&&!y(m,w(F(b),O)))za++;else{var r=g?f?y(g,O):x[g]:x;x=e&&"object"===typeof x&&!J;var n=A.indexOf(r),ea=-1===n;n=!ea&&x?n:l;var B=t[n],u=l>=A.length;if(ea=x&&ea||!x&&!B)B=ca(va,{parent:b,isLoop:!0,isAnonymous:z,tagName:k,root:a.cloneNode(z),item:O,index:l},p),B.mount(),u?Ab.apply(B,[q||X,
v]):zb.apply(B,[X,t[l],v]),u||A.splice(l,0,O),t.splice(l,0,B),h&&M(b.tags,k,B,!0);else if(n!==l&&x){if(g||G(d,A[n]))yb.apply(B,[X,t[l],v]),t.splice(l,0,t.splice(n,1)[0]),A.splice(l,0,A.splice(n,1)[0]);c.pos&&(B[c.pos]=l);!h&&B.tags&&xb.call(B,l)}w(B.__,{item:O,index:l,parent:b});Va[l]=r;ea||B.update(O)}});vb(d,t,za);A=Va.slice();X.insertBefore(q,l)}};c.unmount=function(){r(t,function(a){a.unmount()})};return c}function Wa(a,b,c,d){return F(Xa).init(a,b,c,d)}function fa(a){r(a,function(a){a.unmount?
a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function Ya(a,b,c){return F(Cb).init(a,b,c)}function Za(a,b){var c=this,d=[];pa(a,function(e){var g=e.nodeType,f;if(b||e!==a)if(3===g&&"STYLE"!==e.parentNode.tagName&&y.hasExpr(e.nodeValue)&&d.push({dom:e,expr:e.nodeValue}),1===g){g="VIRTUAL"===e.tagName;if(f=e.getAttribute("each"))return g&&m(e,"loopVirtual",!0),d.push(Bb(e,c,f)),!1;if(f=e.getAttribute("if"))return d.push(Ya(e,c,f)),!1;if((f=e.getAttribute("data-is"))&&y.hasExpr(f))return d.push({isRtag:!0,
expr:f,dom:e,attrs:[].slice.call(e.attributes)}),!1;f=aa(e);g&&(e.getAttribute("virtualized")&&e.parentElement.removeChild(e),f||e.getAttribute("virtualized")||e.getAttribute("loopVirtual")||(f={tmpl:e.outerHTML}));if(f&&(e!==a||b)){var k=e.getAttribute("data-is");if(g&&!k)m(e,"virtualized",!0),g=ca({tmpl:e.outerHTML},{root:e,parent:c},e.innerHTML),d.push(g);else return k&&g&&Ja('Virtual tags shouldn\'t be used together with the "data-is" attribute - https://github.com/riot/riot/issues/2511'),d.push(sa(f,
{root:e,parent:c},e.innerHTML,c)),!1}Aa.apply(c,[e,e.attributes,function(a,b){b&&d.push(b)}])}});return d}function Aa(a,b,c){var d=this;r(b,function(b){if(!b)return!1;var e=b.name,f=Ga(e),k;G(Db,e)&&"yield"!==a.tagName.toLowerCase()?k=Wa(a,d,e,b.value):y.hasExpr(b.value)&&(k={dom:a,expr:b.value,attr:e,bool:f});c(b,k)})}function ha(a){var b=this.__.isAnonymous;n(this,"isMounted",a);b||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Eb(a,b,c,d){var e=
a.__,g=e.root;g._tag=a;Aa.apply(e.parent,[g,g.attributes,function(b,c){!e.isAnonymous&&Xa.isPrototypeOf(c)&&(c.tag=a);b.expr=c;e.instAttrs.push(b)}]);na(e.impl.attrs,function(a,b){e.implAttrs.push({name:a,value:b})});Aa.apply(a,[g,e.implAttrs,function(a,b){b?c.push(b):m(g,a.name,a.value)}]);La.apply(a,[e.isLoop,e.parent,e.isAnonymous,d,e.instAttrs]);var f=W("__global_mixin");if(f&&!e.skipAnonymous)for(var k in f)f.hasOwnProperty(k)&&a.mixin(f[k]);e.impl.fn&&e.impl.fn.call(a,d);e.skipAnonymous||a.trigger("before-mount");
r(Za.apply(a,[b,e.isAnonymous]),function(a){return c.push(a)});a.update(e.item);if(!e.isAnonymous&&!e.isInline)for(;b.firstChild;)g.appendChild(b.firstChild);n(a,"root",g);!e.skipAnonymous&&a.parent?(b=H(a.parent),b.one(b.isMounted?"updated":"mount",function(){ha.call(a,!0)})):ha.call(a,!0);a.__.wasCreated=!0;return a}function Fb(a,b,c){var d=a.__,e=d.root,g=N.indexOf(a),f=e.parentNode;d.skipAnonymous||a.trigger("before-unmount");na(d.impl.attrs,function(a){Ha(a,"riot-")&&(a=a.slice(5));e.removeAttribute(a)});
a.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})});-1!==g&&N.splice(g,1);if(d.parent&&!d.isAnonymous){var k=H(d.parent);d.isVirtual?Object.keys(a.tags).forEach(function(b){return E(k.tags,b,a.tags[b])}):E(k.tags,d.tagName,a)}a.__.virts&&r(a.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)});fa(c);r(d.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()});b?ma(e,""):f&&f.removeChild(e);
if(d.onUnmount)d.onUnmount();a.isMounted||ha.call(a,!0);ha.call(a,!1);delete e._tag;return a}function ca(a,b,c){void 0===a&&(a={});void 0===b&&(b={});var d=b.context||{},e=w({},b.opts),g=b.parent,f=b.isLoop,k=!!b.isAnonymous,h=ra.skipAnonymousTags&&k,l=b.item,m=b.index,p=[],t=b.root;b=b.tagName||ba(t);var u="virtual"===b,z=!u&&!a.tmpl;h||Ba(d);a.name&&t._tag&&t._tag.unmount(!0);n(d,"isMounted",!1);n(d,"__",{impl:a,root:t,skipAnonymous:h,implAttrs:[],isAnonymous:k,instAttrs:[],innerHTML:c,tagName:b,
index:m,isLoop:f,isInline:z,item:l,parent:g,listeners:[],virts:[],wasCreated:!1,tail:null,head:null});n(d,"_riot_id",$a());n(d,"root",t);w(d,{opts:e},l);n(d,"parent",g||null);n(d,"tags",{});n(d,"refs",{});if(z||f&&k)var v=t;else u||(t.innerHTML=""),v=mb(a.tmpl,c,Fa(t));n(d,"update",function(a){var b=d.__,c={},e=d.isMounted&&!b.skipAnonymous;b.isAnonymous&&b.parent&&w(d,b.parent);w(d,a);La.apply(d,[b.isLoop,b.parent,b.isAnonymous,c,b.instAttrs]);e&&d.isMounted&&D(d.shouldUpdate)&&!d.shouldUpdate(a,
c)||(w(d.opts,c),e&&d.trigger("update",a),r(p,ua.bind(d)),e&&d.trigger("updated"));return d});n(d,"mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return ub.apply(void 0,[d].concat(a))});n(d,"mount",function(){return Eb(d,v,p,e)});n(d,"unmount",function(a){return Fb(d,a,p)});return d}function ya(a,b,c,d){var e=u[b];b=u[b].class;b=d||(b?F(b.prototype):{});d=a._innerHTML=a._innerHTML||a.innerHTML;c=w({root:a,opts:c,context:b},{parent:c?c.parent:null});var g;e&&a&&(g=ca(e,c,
d));g&&g.mount&&(g.mount(!0),G(N,g)||N.push(g));return g}var N=[],u={},Db=["ref","data-ref"],eb=/^xlink:(\w+)/,ia="undefined"===typeof window?void 0:window,Gb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Hb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,rb=/^on/,fb=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Ka={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},gb=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,
wa=(ia&&ia.document||{}).documentMode|0,ja={},ka=!1;if(ia){var Ca=function(){var a=p("style"),b=h("style[type=riot]");m(a,"type","text/css");b?(b.id&&(a.id=b.id),b.parentNode.replaceChild(a,b)):document.head.appendChild(a);return a}();var ab=Ca.styleSheet}var I={styleNode:Ca,add:function(a,b){ja[b]=a;ka=!0},inject:function(){if(ia&&ka){ka=!1;var a=Object.keys(ja).map(function(a){return ja[a]}).join("\n");ab?ab.cssText=a:Ca.innerHTML=a}},remove:function(a){delete ja[a];ka=!0}},bb=function(){function a(a,
b){for(;0<=--b&&/\s/.test(a[b]););return b}var b="case default do else in instanceof prefix return typeof void yield".split(" "),c=b.reduce(function(a,b){return a+b.slice(-1)},""),d=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,e=/[$\w]/;return function(f,q){var g=/.*/g,h=g.lastIndex=q++;if(g=g.exec(f)[0].match(d)){g=h+g[0].length;h=a(f,h);var l=f[h];if(0>h||~"[{(,;:?=|&!^~>%*/".indexOf(l))return g;if("."===l)"."===f[h-1]&&(q=g);else if("+"===l||"-"===l){if(f[--h]!==
l||0>(h=a(f,h))||!e.test(f[h]))q=g}else if(~c.indexOf(l)){for(l=h+1;0<=--h&&e.test(f[h]););~b.indexOf(f.slice(h+1,l))&&(q=g)}}return q}}(),P=function(a){function b(a){return a}function c(a,b){b||(b=v);return new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function d(a){if("{ }"===a)return t;var b=a.split(" ");if(2!==b.length||m.test(a))throw Error('Unsupported brackets "'+a+'"');b=b.concat(a.replace(l,"\\").split(" "));b[4]=c(1<b[1].length?/{[\S\s]*?}/:t[4],b);b[5]=c(3<
a.length?/\\({|})/g:t[5],b);b[6]=c(t[6],b);b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+n,"g");b[8]=a;return b}function e(a){return a instanceof RegExp?z(a):v[a]}function f(a){(a||(a="{ }"))!==v[8]&&(v=d(a),z="{ }"===a?b:c,v[9]=z(t[9]));r=a}var h=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,k=h.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,
m=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,l=/(?=[[\]()*+?.^$|])/g,n=h.source+"|"+/(\/)(?![*\/])/.source,p={"(":RegExp("([()])|"+n,"g"),"[":RegExp("([[\\]])|"+n,"g"),"{":RegExp("([{}])|"+n,"g")},t=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+n,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],r=a,z,v=[],A;e.split=function(a,b,c){function d(a){q&&(a=q+a,q="");b||z?f.push(a&&a.replace(c[5],"$1")):f.push(a)}function e(c,d,e){e&&(d=bb(a,
c));b&&d>c+2&&(J="\u2057"+l.length+"~",l.push(a.slice(c,d)),q+=a.slice(h,c)+J,h=d);return d}c||(c=v);var f=[],g,z,h,k=c[6],l=[],q="",J;for(z=h=k.lastIndex=0;g=k.exec(a);){var n=k.lastIndex;var m=g.index;if(z){if(g[2]){m=g[2];var x=p[m],A=1;for(x.lastIndex=n;g=x.exec(a);)if(g[1])if(g[1]===m)++A;else{if(!--A)break}else x.lastIndex=e(g.index,x.lastIndex,g[2]);k.lastIndex=A?a.length:x.lastIndex;continue}if(!g[3]){k.lastIndex=e(m,n,g[4]);continue}}g[1]||(d(a.slice(h,m)),h=k.lastIndex,k=c[6+(z^=1)],k.lastIndex=
h)}a&&h<a.length&&d(a.slice(h));f.qblocks=l;return f};e.hasExpr=function(a){return v[4].test(a)};e.loopKeys=function(a){var b=a.match(v[9]);return b?{key:b[1],pos:b[2],val:v[0]+b[3].trim()+v[1]}:{val:a.trim()}};e.array=function(a){return a?d(a):v};Object.defineProperty(e,"settings",{set:function(a){a=a||{};var b=a.brackets;Object.defineProperty(a,"brackets",{set:f,get:function(){return r},enumerable:!0});A=a;f(b)},get:function(){return A}});e.settings="undefined"!==typeof riot&&riot.settings||{};
e.set=f;e.skipRegex=bb;e.R_STRINGS=h;e.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g;e.S_QBLOCKS=k;e.S_QBLOCK2=n;return e}(),y=function(){function a(a,d){return a?(h[a]||(h[a]=c(a))).call(d,b.bind({data:d,tmpl:a})):a}function b(b,c){b.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id};a.errorHandler?a.errorHandler(b):"undefined"!==typeof console&&"function"===typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}
function c(a){a=d(a);"try{return "!==a.slice(0,11)&&(a="return "+a);return new Function("E",a+";")}function d(a){a=P.split(a.replace(k,'"'),1);var b=a.qblocks,c;if(2<a.length||a[0]){var d,f,g=[];for(d=f=0;d<a.length;++d)(c=a[d])&&(c=d&1?e(c,1,b):'"'+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(g[f++]=c);c=2>f?g[0]:"["+g.join(",")+'].join("")'}else c=e(a[1],0,b);b.length&&(c=c.replace(m,function(a,c){return b[c].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return c}
function e(a,b,c){if(a=a.replace(/\s+/g," ").trim().replace(/ ?([[\({},?\.:]) ?/g,"$1")){for(var d=[],e=0,g;a&&(g=a.match(l))&&!g.index;){var h,k,m=/,|([[{(])|$/g;a=RegExp.rightContext;for(h=g[2]?c[g[2]].slice(1,-1).trim().replace(/\s+/g," "):g[1];k=(g=m.exec(a))[1];){var q=m,p=1,r=n[k];for(r.lastIndex=q.lastIndex;g=r.exec(a);)if(g[0]===k)++p;else if(!--p)break;q.lastIndex=p?a.length:r.lastIndex}k=a.slice(0,g.index);a=RegExp.rightContext;d[e++]=f(k,1,h)}a=e?1<e?"["+d.join(",")+'].join(" ").trim()':
d[0]:f(a,b)}return a}function f(a,b,c){var d;a=a.replace(t,function(a,b,c,e,f){c&&(e=d?0:e+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+'("'+c+p+c,e&&(d="."===(f=f[e])||"("===f||"["===f)):e&&(d=!r.test(f.slice(e))));return a});d&&(a="try{return "+a+"}catch(e){E(e,this)}");c?a=(d?"function(){"+a+"}.call(this)":"("+a+")")+'?"'+c+'":""':b&&(a="function(v){"+(d?a.replace("return ","v="):"v=("+a+")")+';return v||v===0?v:""}.call(this)');return a}var h={};a.hasExpr=P.hasExpr;a.loopKeys=P.loopKeys;
a.clearCache=function(){h={}};a.errorHandler=null;var k=/\u2057/g,m=/\u2057(\d+)~/g,l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,n={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},p='"in this?this:'+("object"!==typeof window?"global":"window")+").",t=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,r=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;a.version=P.version="v3.0.8";return a}(),Ba=function(a){a=
a||{};var b={},c=Array.prototype.slice;Object.defineProperties(a,{on:{value:function(c,e){"function"==typeof e&&(b[c]=b[c]||[]).push(e);return a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(c,e){if("*"!=c||e)if(e){c=b[c];for(var d=0,f;f=c&&c[d];++d)f==e&&c.splice(d--,1)}else delete b[c];else b={};return a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(b,c){function d(){a.off(b,d);c.apply(a,arguments)}return a.on(b,d)},enumerable:!1,writable:!1,configurable:!1},
trigger:{value:function(d){var e=arguments,f=arguments.length-1,h=Array(f),k;for(k=0;k<f;k++)h[k]=e[k+1];e=c.call(b[d]||[],0);for(k=0;f=e[k];++k)f.apply(a,h);b["*"]&&"*"!=d&&a.trigger.apply(a,["*",d].concat(h));return a},enumerable:!1,writable:!1,configurable:!1}});return a},ra=w(F(P.settings),{skipAnonymousTags:!0,autoUpdate:!0}),Ib=Object.freeze({$$:Y,$:h,createDOMPlaceholder:K,mkEl:p,setAttr:m,toggleVisibility:la,getAttr:function(a,b){return a.getAttribute(b)},remAttr:function(a,b){a.removeAttribute(b)},
setInnerHTML:ma,walkAttrs:na,createFrag:S,safeInsert:oa,styleObjectToString:Da,walkNodes:pa}),Jb=Object.freeze({isBlank:T,isFunction:D,isObject:Z,isSvg:Fa,isWritable:R,isArray:U,isBoolAttr:Ga,isNil:Ea,isString:L,isUndefined:Q}),$a=function(){var a=-1;return function(){return++a}}(),Kb=Object.freeze({contains:G,each:r,getPropDescriptor:C,startsWith:Ha,uid:$a,defineProperty:n,objectCreate:F,extend:w,toCamel:Ia,warn:Ja}),ib=/<yield\b/i,lb=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,jb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,
kb=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,ob={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},nb=wa&&10>wa?Gb:Hb,Pa={},tb=Pa.__global_mixin={},sb=0,Lb=Object.freeze({Tag:Ma,tag:xa,tag2:Na,mount:Oa,mixin:W,update:Qa,unregister:Ra,version:"v3.9.4"}),Xa={init:function(a,b,c,d){this.dom=a;this.attr=c;this.rawValue=d;this.parent=b;this.hasExp=y.hasExpr(d);return this},update:function(){var a=this.value,b=this.parent&&H(this.parent),c=this.dom.__ref||this.tag||this.dom;this.value=
this.hasExp?y(this.rawValue,this.parent):this.rawValue;!T(a)&&b&&E(b.refs,a,c);!T(this.value)&&L(this.value)?(b&&M(b.refs,this.value,c,null,this.parent.__.index),this.value!==a&&m(this.dom,this.attr,this.value)):this.dom.removeAttribute(this.attr);this.dom.__ref||(this.dom.__ref=c)},unmount:function(){var a=this.tag||this.dom,b=this.parent&&H(this.parent);!T(this.value)&&b&&E(b.refs,this.value,a)}},Cb={init:function(a,b,c){a.removeAttribute("if");w(this,{tag:b,expr:c,stub:K(),pristine:a});b=a.parentNode;
b.insertBefore(this.stub,a);b.removeChild(a);return this},update:function(){(this.value=y(this.expr,this.tag))&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=Za.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(fa(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]);this.value&&
r(this.expressions,ua.bind(this.tag))},unmount:function(){fa(this.expressions||[])}},Mb=Object.freeze({arrayishAdd:M,getTagName:ba,inheritParentProps:qa,mountTo:ya,selectTags:V,arrayishRemove:E,getTag:aa,initChildTag:sa,moveChildTag:Sa,makeReplaceVirtual:ta,getImmediateCustomParentTag:H,makeVirtual:da,moveVirtual:Ta,unmountAll:fa,createIfDirective:Ya,createRefDirective:Wa}),cb=ra,db={tmpl:y,brackets:P,styleManager:I,vdom:N,styleNode:I.styleNode,dom:Ib,check:Jb,misc:Kb,tags:Mb},Nb=xa,Ob=W,Pb=Ba,Qb=
w({},Lb,{observable:Ba,settings:cb,util:db});f.settings=cb;f.util=db;f.Tag=Ma;f.tag=Nb;f.tag2=Na;f.mount=Oa;f.mixin=Ob;f.update=Qa;f.unregister=Ra;f.version="v3.9.4";f.observable=Pb;f.default=Qb;Object.defineProperty(f,"__esModule",{value:!0})});
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,c,e){if(a){c=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var d=b[e];d in c||(c[d]={});c=c[d]}b=b[b.length-1];e=c[b];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(a,c){var b=this;b instanceof String&&(b=String(b));var d=b.length;c=c||0;for(0>c&&(c=Math.max(c+d,0));c<d;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,a,c){if(null==b)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var d=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<f&&c<d;)if(b[c++]!=a[h++])return!1;return h>=f}},"es6","es3");
riot.tag2("message",'<div if="{text != \'\' && !dismissed}" class="alert alert-{type} {alert-dismissible: dismissible}" riot-style="{style}"> <button if="{dismissible}" type="button" class="close" aria-label="Close"><span aria-hidden="true" onclick="{dismiss}">&times;</span></button> <raw content="{text}"></raw> </div>',"","",function(b){var a=this;a.plugin=b.plugin||console.error("no plugin set");a.name=b.name;a.text=b.text||"";a.type=b.type||"";a.dismissible=b.dismissible||!1;a.style=b.style||"";
a.dismissed=!1;a.plugin.on("set-message",function(c,b,d){void 0!=d&&d!=a.name||void 0==d&&void 0!=a.name||(a.text=c,a.type=b,a.dismissed=!1,a.update())});a.dismiss=function(c){a.dismissed=!0}});riot.tag2("raw","<span></span>","","",function(b){var a=this;a.root.innerHTML=b.content;a.on("update",function(){a.root.innerHTML=b.content})});riot.tag2("sitemap-generator",'<div> <form name="sitemapForm"> <div class="btn-group" role="group"> <button type="submit" class="btn {generateClass}" onclick="{generate}" if="{!generateDisabled}">Generate sitemap</button> <button class="btn btn-danger" onclick="{stopGeneration}" if="{generateDisabled}">Stop generation</button> <a class="btn {downloadClass}" onclick="{download}" disabled="{downloadDisabled}" download="sitemap.xml" href="{href}">Download</a> </div> </form> <message plugin="{events}" text="Sitemap Generator is initializing, please wait a moment." type="warning"></message> </div> <div class="row"> <div if="{stats}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Sitemap Stats <span title="Stats for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td>Sitemap URL count</td> <td class="text-right" style="width: 200px;">{stats.SitemapURLCount}</td> </tr> <tr if="{hasToken()}"> <td>Sitemap image count</td> <td class="text-right">{stats.SitemapImageCount}</td> </tr> <tr if="{hasToken()}"> <td>Sitemap video count</td> <td class="text-right">{stats.SitemapVideoCount}</td> </tr> </table> </div> </div> <div if="{stats && hasToken()}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Download Last Sitemap (or Index File and Sitemaps) <span title="Downloads for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td><a href="{apiserverURL(\'/sitemap.xml?download=1\');}">sitemap.xml</a></td> </tr> <tr each="{subSitemap in subSitemaps()}"> <td><a href="{apiserverURL(\'/\' + subSitemap + \'?download=1\')}">{subSitemap}</a></td> </tr> </table> </div> </div> <div if="{stats}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Crawl Stats <span title="Stats for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td>Crawled URLs count</td> <td class="text-right" style="width: 200px;">{stats.CrawledResourcesCount}</td> </tr> <tr> <td>Dead URLs count</td> <td class="text-right">{stats.DeadResourcesCount}</td> </tr> <tr> <td>Timed out URLs count</td> <td class="text-right">{stats.TimedOutResourcesCount}</td> </tr> <tr> <td>Started at</td> <td class="text-right">{datetime(stats.StartedAt)}</td> </tr> <tr> <td>Finished at</td> <td class="text-right">{datetime(stats.FinishedAt)}</td> </tr> <tr> <td colspan="2"> <i>Want find out more about the dead and timed out URLs? Have a look at my <a href="https://www.marcobeierer.com/tools/link-checker" target="_blank">Link Checker</a>.</i> </td> </tr> </table> </div> </div> <div if="{stats}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Setting Stats <span title="Stats for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td>Crawl delay</td> <td class="text-right" style="width: 200px;">{stats.CrawlDelayInSeconds} seconds</td> </tr> <tr> <td>Concurrent fetchers</td> <td class="text-right">{stats.MaxFetchers}</td> </tr> <tr> <td>URL limit</td> <td class="text-right">{stats.URLLimit} URLs</td> </tr> <tr> <td>Limit reached</td> <td class="text-right">{bool2text(stats.URLLimitReached)}</td> </tr> <tr> <td>Token used</td> <td class="text-right">{bool2text(stats.TokenUsed)}</td> </tr> </table> </div> </div> </div>',
"","",function(b){var a=this;a.events=riot.observable();a.downloadDisabled=!0;a.generateDisabled=!1;a.pageCount=0;a.stats=null;a.forceStop=!1;a.sitemapGeneratorBlob;a.href;a.websiteURL=function(){return b.websiteUrl||""};a.websiteURL64=function(){var c=window.btoa(encodeURIComponent(a.websiteURL()).replace(/%([0-9A-F]{2})/g,function(a,c){return String.fromCharCode("0x"+c)}));c.replace(/\+/g,"-").replace(/\//g,"_");return c};a.token=function(){return b.token?b.token.replace(/\s/g,""):b.token};a.hasToken=
function(){return![void 0,null,""].includes(a.token())};a.identifier=function(){return b.identifier||""};a.systemName=function(){return b.systemName||"Unknown"};a.btnPrimaryClass=function(){return b.btnPrimaryClass||"btn-primary"};a.btnDefaultClass=function(){return b.btnDefaultClass||"btn-default"};a.maxFetchers=function(){return b.maxFetchers||3};a.ignoreEmbeddedContent=function(){return b.ignoreEmbeddedContent||""};a.referenceCountThreshold=function(){return b.referenceCountThreshold||5};a.queryParamsToRemove=
function(){return b.queryParamsToRemove||""};a.disableCookies=function(){return b.disableCookies||""};a.enableIndexFile=function(){return b.enableIndexFile||""};a.sitemapFilename=function(){return b.sitemapFilename||"sitemap.xml"};a.setMessage=function(c,b,d){a.events.trigger("set-message",c,b,d)};a.on("before-mount",function(){a.generateClass=a.btnPrimaryClass();a.downloadClass=a.btnDefaultClass()});a.on("mount",function(){if(""!=a.websiteURL()){var c="";a.hasToken()&&(c="BEARER "+a.token());a.websiteURL64();
var b=a.apiserverURL("/running");jQuery.ajax({method:"GET",url:b,headers:{Authorization:c,"Cache-Control":"no-store"}}).done(function(c,b,e){c.Running?a.generate():a.setMessage("The Sitemap Generator was not started yet.","info");c.SitemapAvailable&&a.loadDataFromServer()}).fail(function(c){a.setMessage("The Sitemap Generator was not started yet.","info")})}else setTimeout(function(){a.setMessage("The generation of the sitemap was not started yet.","info")},500)});a.apiserverURL=function(c){void 0==
c&&(c="");var e=b.proxyUrl;e&&""==c||(e=b.dev?"http://marco-desktop:9999/sitemap/v2/"+a.websiteURL64():"https://api.marcobeierer.com/sitemap/v2/"+a.websiteURL64());""==c&&(c="",c=b.proxyUrl?c+"&":c+"?",c=c+"pdfs=1&origin_system="+encodeURIComponent(a.systemName().toLowerCase()),c+="&max_fetchers="+encodeURIComponent(a.maxFetchers()),c+="&ignore_embedded_content="+encodeURIComponent(a.ignoreEmbeddedContent()),c+="&reference_count_threshold="+encodeURIComponent(a.referenceCountThreshold()),c+="&query_params_to_remove="+
encodeURIComponent(a.queryParamsToRemove()),c+="&disable_cookies="+encodeURIComponent(a.disableCookies()),c+="&enable_index_file="+encodeURIComponent(a.enableIndexFile()),b.proxyUrl&&(c+="&baseurl64="+a.websiteURL64(),""!=a.identifier()&&(c+="&identifier="+a.identifier())));return e+c};a.generate=function(c){c&&c.preventDefault();a.downloadDisabled=!0;a.generateDisabled=!0;a.pageCount=0;a.setMessage("The sitemap is being generated. Please wait a moment.","warning");a.generateClass=a.btnPrimaryClass();
a.downloadClass=a.btnDefaultClass();a.retries=0;var e=function(){var c="";a.hasToken()&&(c="BEARER "+a.token());jQuery.ajax({method:"GET",url:a.apiserverURL(),headers:{Authorization:c,"Cache-Control":"no-store"}}).done(function(d,h,g){a.retries=0;g.getResponseHeader("Content-Type").startsWith("application/xml")||g.getResponseHeader("Content-Type").startsWith("text/xml")?(a.sitemapGeneratorBlob=new Blob([g.responseText],{type:"application/xml"}),a.href=(window.URL||window.webkitURL).createObjectURL(a.sitemapGeneratorBlob),
a.downloadDisabled=!1,a.events.trigger("stopped"),null!=g.getResponseHeader("X-Stats")&&(a.stats=JSON.parse(g.getResponseHeader("X-Stats"))),a.stats&&a.stats.URLLimitReached?a.setMessage("The Sitemap Generator reached the URL limit and the generated sitemap probably isn't complete. You may buy a token for the <a href=\""+b.professionalUrl+"\">Sitemap Generator Professional</a> to crawl up to 50'000 URLs and create a complete sitemap. Additionally to a higher URL limit, the professional version also adds images and videos to your sitemap.",
"danger"):(d="Your sitemap was generated successfully. You can download the sitemap now.",["WordPress","Joomla"].includes(a.systemName())&&(d="The generation of the sitemap was successful. The sitemap was saved with the filename "+a.sitemapFilename()+" in the root folder of your "+a.systemName()+" instance. Please see the stats below."),a.setMessage(d,"success")),a.generateClass=a.btnDefaultClass(),a.downloadClass=a.btnPrimaryClass()):(a.pageCount=d.page_count,0<a.pageCount&&(d="The sitemap is being generated. Please wait a moment.<br />"+
a.pageCount+" URLs already processed.",a.setMessage(d,"warning")),a.forceStop?a.stop(a.apiserverURL(),c):setTimeout(e,1E3));a.update()}).fail(function(b,d,g){d=b.status;a.events.trigger("stopped");if(401==d)a.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger");else if(500==d)1==b.getResponseHeader("X-Write-Error")?a.setMessage("Could not write sitemap to file. The reason for that could be a permission issue or that not enough space is available.",
"danger"):![void 0,null,""].includes(b.responseJSON)&&b.getResponseHeader("Content-Type").startsWith("application/json")?a.setMessage("The generation of your sitemap failed with the error:<br/><strong>"+b.responseJSON+"</strong>.","danger"):a.setMessage("The generation of your sitemap failed. Please try it again.","danger");else if(503==d)a.setMessage("The backend server is temporarily unavailable. Please try it again later.");else if(504==d&&1==b.getResponseHeader("X-CURL-Error"))b=b.responseJSON,
""==b?a.setMessage("A cURL error occurred. Please contact the developer of the extensions.","danger"):a.setMessage("A cURL error occurred with the error message:<br/><strong>"+b+"</strong>.","danger");else{if(0==d&&3>a.retries){a.retries++;a.forceStop?a.stop(a.apiserverURL(),c):setTimeout(e,1E3);a.update();return}a.setMessage("The generation of your sitemap failed. Please try it again or contact the developer of the extensions.","danger")}a.update()})};e()};a.download=function(c){window.navigator.msSaveOrOpenBlob&&
a.sitemapGeneratorBlob&&window.navigator.msSaveOrOpenBlob(a.sitemapGeneratorBlob,"sitemap.xml")};a.stopGeneration=function(c){c.preventDefault();a.forceStop=!0};a.events.on("stopped",function(){a.generateDisabled=!1;a.update()});a.stop=function(c,b){a.setMessage("Going to stop the current generation.","warning");a.update();jQuery.ajax({method:"DELETE",url:c,headers:{Authorization:b}}).done(function(c){a.setMessage("The current generation was stopped successfully.","info")}).fail(function(c){a.setMessage("Could not stop the generation because the connection to the server failed.",
"danger")}).always(function(){a.forceStop=!1;a.events.trigger("stopped");a.update()})};a.loadDataFromServer=function(){if(a.hasToken()){var c="BEARER "+a.token();a.websiteURL64();var b=a.apiserverURL("/stats");jQuery.ajax({method:"GET",url:b,headers:{Authorization:c}}).done(function(c){a.stats=c}).fail(function(a){console.log("fetching saved result failed")}).always(function(){a.update()})}};a.bool2text=function(a){return a?"Yes":"No"};a.subSitemaps=function(){var c=[];if(!a.stats)return c;for(var b=
"",d=0;d<a.stats.SitemapIndexNumberOfDigits;d++)b+="0";for(d=0;d<a.stats.SitemapIndexCount;d++){var f=(b+d).slice(-a.stats.SitemapIndexNumberOfDigits);c.push("sitemap."+f+".xml")}return c};a.datetime=function(a){return(new Date(a)).toLocaleString()};a.datetimeAt=function(b){return a.datetime(b).replace(","," at")}});
